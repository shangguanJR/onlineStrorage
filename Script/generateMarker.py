import vtk
import numpy as np

# 影像标定器上的点在0001.nii.gz的RAS坐标系下的坐标
points = np.array([
    [24.8844899999999, 395.37694999999985, 438.4832699999999],
    [-5.086700000000064, 395.42194999999987, 438.4767199999999],
    [-35.04755000000003, 395.41776999999985, 438.4791199999999],
    [-65.01326999999999, 395.1591699999999, 438.4968799999999],
    [-94.97944999999996, 395.4614999999999, 438.4997599999999],
    [-124.94114999999991, 395.53235999999987, 438.50353999999993],
    [24.904449999999898, 385.2641399999999, 468.38660999999985],
    [-5.080040000000061, 385.2828199999999, 468.38694999999984],
    [-35.06058000000003, 385.24636999999984, 468.39507999999984],
    [-65.02826999999999, 385.2435799999999, 468.4051999999998],
    [-95.00819999999996, 385.30798999999985, 468.39658999999983],
    [-124.98357999999992, 385.3988199999999, 468.4142699999999],
    [24.937659999999894, 375.0613299999999, 498.3164899999998],
    [-5.058780000000063, 375.1002099999999, 498.31767999999977],
    [-35.04747000000003, 375.09060999999986, 498.32426999999984],
    [-65.03707999999999, 375.1434599999999, 498.3305999999998],
    [-95.02201999999996, 375.15918999999985, 498.33262999999977],
    [-125.02060999999992, 375.2231599999999, 498.33133999999984],
    [24.943829999999906, 374.91065399999985, 528.2866699999997],
    [-5.055290000000063, 374.89794999999987, 528.3026499999997],
    [-35.049400000000034, 374.98470999999984, 528.3023399999997],
    [-65.03475999999999, 374.95840999999984, 528.3111199999997],
    [-95.03188999999995, 375.0052499999998, 528.3189199999997],
    [-125.00870999999991, 375.09240999999986, 528.3239499999997],
    [24.9264799999999, 384.7857399999998, 558.3149999999997],
    [-5.053620000000066, 384.7519599999998, 558.3207399999997],
    [-35.03285000000003, 384.6724999999998, 558.3284299999997],
    [-65.01695, 384.8141499999998, 558.3293699999997],
    [-94.99108999999996, 384.8320899999998, 558.3357199999997],
    [-124.97058999999992, 384.9070699999998, 558.3380299999997],
    [24.929829999999896, 394.66768999999977, 588.3164399999996],
    [-5.055940000000064, 394.6710499999998, 588.3324699999996],
    [-35.02645000000003, 394.6821399999998, 588.3317799999996],
    [-64.99831999999999, 394.6889099999998, 588.3393399999997],
    [-94.97362999999996, 394.69022999999976, 588.3368599999997],
    [-124.93879999999992, 394.8081199999998, 588.3450199999996],
])

appendFilter = vtk.vtkAppendPolyData()
for i in range(36):
    sphereSource = vtk.vtkSphereSource()
    sphereSource.SetPhiResolution(100)
    sphereSource.SetThetaResolution(100)
    sphereSource.SetCenter(points[i])
    sphereSource.SetRadius(4.0)
    sphereSource.Update()
    appendFilter.AddInputData(sphereSource.GetOutput())
    
appendFilter.Update()

# 在Slicer中添加modelNode并将其Polydata设置成appendFilter.GetOutput()